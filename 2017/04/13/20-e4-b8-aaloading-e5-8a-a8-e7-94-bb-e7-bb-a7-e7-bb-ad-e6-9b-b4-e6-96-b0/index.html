<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Shady"><title>20个loading动画继续更新 · Libx</title><meta name="description" content="继续更新此处添加图片
这是个漏斗的加载动画，在初看到这个效果时我认为是用一些手段实现连贯的效果，但是看了源码后发现他的处理方式非常的巧妙，所以这里来实现一下。
动画并非是一直旋转并且top流下，bottom充满。等到top转到下部执行bottom的动画，bottom。。。而是在整个rotatehod"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><h3 title=""><a href="/">Libx</a></h3><div class="description"><p>Thoughts,stories and ideas</p></div></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>© 2017 — 2018 ❤ Shady</span></a></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>20个loading动画继续更新</a></h3></div><div class="post-content"><h3 id="继续更新"><a href="#继续更新" class="headerlink" title="继续更新"></a>继续更新</h3><p>此处添加图片</p>
<p>这是个漏斗的加载动画，在初看到这个效果时我认为是用一些手段实现连贯的效果，但是看了源码后发现他的处理方式非常的巧妙，所以这里来实现一下。</p>
<p>动画并非是一直旋转并且top流下，bottom充满。<br>等到top转到下部执行bottom的动画，bottom。。。<br>而是在整个rotatehoder的动画前90%不动，后10%转动180，之后迅速归回原位<br>在视觉上形成连贯的视觉效果。</p>
<p>大致可以分析得到，主题的内容是由上下·两个部分来组成，中间利用伪元素来将两端连接起来即是中间的颈。在外层用一个div来控制整体的转动，然后分别用top和bottom伪类的动画来控制sand的“流动”。</p>
<p>在这个动画中主要用到的是animation和before，after，伪元素来实现的sandwatch中的sand。</p>
<p>首先markup:<br><figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sandwatch-holder"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sandwatch-top"</span>&gt;</span>&amp;lt;/div&gt;</div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sandwatch-bottom"</span>&gt;</span>&amp;lt;/div&gt;</div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">     Loading...</div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure></p>
<pre><code>基本结构就是这样。现在把主体部分的布局给定一下。
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="selector-class">.center</span> &#123;</div><div class="line">      <span class="attribute">margin</span>: <span class="number">30px</span> auto <span class="number">0</span>;</div><div class="line">      <span class="attribute">width</span>: <span class="number">200px</span>;</div><div class="line">    &#125; </div><div class="line"></div><div class="line">    <span class="selector-class">.sandwatch-holder</span> &#123;</div><div class="line">      <span class="attribute">position</span>: relative;</div><div class="line">      <span class="attribute">width</span>: <span class="number">43px</span>;</div><div class="line">      <span class="attribute">animation</span>: rotateHolder <span class="number">2s</span> linear infinite;<span class="comment">/*主体部分的动画*/</span></div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>主体部分动画：
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line">@<span class="keyword">keyframes</span> rotateHolder &#123;</div><div class="line">      0% &#123;</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">      &#125;</div><div class="line"></div><div class="line">      90% &#123;</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(0deg);</div><div class="line">      &#125;</div><div class="line">      <span class="comment">/*前面90%均是不动的，sand在落下后，10%转动*/</span></div><div class="line">      100% &#123;</div><div class="line">        <span class="attribute">transform</span>: <span class="built_in">rotate</span>(180deg);</div><div class="line">      &#125;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>在sandwatchhoder上添加伪类，将上下两部分连接。
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*上部分下部分之间内的蓝线*/</span></div><div class="line">    <span class="selector-class">.sandwatch-holder</span><span class="selector-pseudo">:after</span> &#123;</div><div class="line">      <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">      <span class="attribute">position</span>: absolute;</div><div class="line">      <span class="attribute">width</span>: <span class="number">2px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">50px</span>;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#1bb5e5</span>;</div><div class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</div><div class="line">      <span class="attribute">margin</span>: -<span class="number">17px</span> <span class="number">0</span> <span class="number">0</span>;</div><div class="line">      <span class="attribute">animation</span>: moveStream <span class="number">2s</span> linear infinite;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>然后将top部分和bottom部分来定义一下
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*上下部部分*/</span></div><div class="line">    <span class="selector-class">.sandwatch-top</span>, <span class="selector-class">.sandwatch-bottom</span> &#123;</div><div class="line">      <span class="attribute">width</span>: <span class="number">35px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">35px</span>;</div><div class="line">      <span class="attribute">position</span>: relative;</div><div class="line">      <span class="attribute">border</span>: <span class="number">6px</span> solid <span class="number">#a56818</span>;</div><div class="line">      <span class="attribute">border-right</span>: <span class="number">2px</span> solid <span class="number">#a56818</span>;</div><div class="line">      <span class="attribute">border-top</span>: <span class="number">2px</span> solid <span class="number">#a56818</span>;</div><div class="line">      <span class="attribute">border-radius</span>: <span class="number">50px</span> <span class="number">100px</span> <span class="number">50px</span> <span class="number">30px</span>;<span class="comment">/*画出来上下部分的边界*/</span></div><div class="line">      <span class="attribute">overflow</span>: hidden;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="selector-class">.sandwatch-top</span> &#123;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-45deg);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="selector-class">.sandwatch-bottom</span> &#123;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">rotate</span>(135deg);</div><div class="line">      <span class="attribute">margin</span>: <span class="number">12px</span> <span class="number">0</span> <span class="number">0</span>;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>将上下部分用伪类来连接起来，直接after加到sandwatch-hoder上面，然后绝对定位过去。
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*连接上下两部分的，处于中部，填补bottom的上外边距*/</span></div><div class="line">    <span class="selector-class">.sandwatch-holder</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">      <span class="attribute">position</span>: absolute;</div><div class="line">      <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">      <span class="attribute">width</span>: <span class="number">8px</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">12px</span>;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#a56818</span>;</div><div class="line">      <span class="attribute">left</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">top</span>: <span class="number">50%</span>;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>然后就是sand啦：
</code></pre><figure class="highlight css"><table><tr><td class="code"><pre><div class="line"><span class="comment">/*蓝色液体 */</span></div><div class="line">    <span class="selector-class">.sandwatch-top</span><span class="selector-pseudo">:before</span>, <span class="selector-class">.sandwatch-bottom</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">      <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">      <span class="attribute">position</span>: absolute;</div><div class="line">      <span class="attribute">width</span>:<span class="number">100%</span>;</div><div class="line">      <span class="attribute">height</span>: <span class="number">100%</span>;</div><div class="line">      <span class="attribute">background</span>: <span class="number">#1bb5e5</span>;</div><div class="line">      <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">100px</span> <span class="number">0</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">/*top液体只能减少 不能增加*/</span></div><div class="line">    <span class="selector-class">.sandwatch-top</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(0, 0);</div><div class="line">      <span class="attribute">animation</span>: dropSand <span class="number">2s</span> linear infinite;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">/*bottom液体只能增加 不能减少*/</span></div><div class="line">    <span class="selector-class">.sandwatch-bottom</span><span class="selector-pseudo">:before</span> &#123;</div><div class="line">      <span class="attribute">transform</span>: <span class="built_in">translate</span>(25px, -25px);</div><div class="line">      <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">12px</span>;</div><div class="line">      <span class="attribute">animation</span>: fillSand <span class="number">2s</span> linear infinite;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<pre><code>把动画给写一下
</code></pre><p>```css<br>@keyframes dropSand {<br>      100% {<br>        transform: translate(-22px, 22px);<br>      }<br>    }</p>
<pre><code>@keyframes fillSand {
  4% {
    transform: translate(25px, -25px);
  }

  100% {
    transform: translate(-1px, 0);
  }
}

@keyframes moveStream {
  10% {
    margin: 17px 0 0;
  }

  100% {
    margin: 17px 0 0;
  }
}
</code></pre><p>动画即是移动sand。。。</p>
<p>done，去上课。</p>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-04-13</span><i class="fa fa-tag"></i><a class="tag" href="/categories/技术/" title="技术">技术 </a><a class="tag" href="/tags/CSS/" title="CSS">CSS </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://stan1812.github.io/2017/04/13/20-e4-b8-aaloading-e5-8a-a8-e7-94-bb-e7-bb-a7-e7-bb-ad-e6-9b-b4-e6-96-b0/,Libx,20个loading动画继续更新,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/04/23/e4-b8-80-e5-91-a8-e6-80-bb-e7-bb-93/" title="一周总结">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/04/12/e8-bf-91-e6-9c-9f-e5-ad-a6-e4-b9-a0-e7-9a-84-e8-8b-a5-e5-b9-b2-e5-8f-8d-e6-80-9d/" title="近期学习的若干反思">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>