<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Shady"><title>Vue2.0生命周期以及生命周期钩子 · Libx</title><meta name="description" content="Vue2.0生命周期以及生命周期钩子的一点理解实例的生命周期在Vue里面可以说是很重要的了，如果不能理解生命周期的话，那么可能出现最多的报错便是‘ XXX is not defined ’,尤其是当涉及到数据传递的时候，更容易出现一些让人摸不著头脑的报错，而这些报错可能会很难比较难以找到错误的根源。"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><h3 title=""><a href="/">Libx</a></h3><div class="description"><p>Thoughts,stories and ideas</p></div></div></div><ul class="social-links"></ul><div class="footer"><a target="_blank" href="/"><span>© 2017 — 2018 ❤ Shady</span></a></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">Home</a></li><li><a href="/about">Sobre</a></li><li><a href="/archives">Arquivo</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>Vue2.0生命周期以及生命周期钩子</a></h3></div><div class="post-content"><h2 id="Vue2-0生命周期以及生命周期钩子的一点理解"><a href="#Vue2-0生命周期以及生命周期钩子的一点理解" class="headerlink" title="Vue2.0生命周期以及生命周期钩子的一点理解"></a>Vue2.0生命周期以及生命周期钩子的一点理解</h2><p>实例的生命周期在Vue里面可以说是很重要的了，如果不能理解生命周期的话，那么可能出现最多的报错便是‘ XXX is not defined ’,尤其是当涉及到数据传递的时候，更容易出现一些让人摸不著头脑的报错，而这些报错可能会很难比较难以找到错误的根源。在我上车的过程中就遇到过这样的问题，所以有必要写一篇博客来总结一下。</p>
<blockquote>
<p>每个 Vue 实例在被创建之前都要经过一系列的初始化过程。例如，实例需要配置数据观测(data observer)、编译模版、挂载实例到 DOM ，然后在数据变化时更新 DOM 。在这个过程中，实例也会调用一些 <strong>生命周期钩子</strong> ，这就给我们提供了执行自定义逻辑的机会。<br>以上是官网给出的Vue实例生命周期的比较准确的定义，具体要理解的话当然要结合生命周期的最经典的示例图：</p>
</blockquote>
<p><a href="http://119.29.235.55/wp-content/uploads/2017/08/lifecycle.png" target="_blank" rel="external"><img src="http://119.29.235.55/wp-content/uploads/2017/08/lifecycle.png" alt=""></a></p>
<h3 id="beforeCreate"><a href="#beforeCreate" class="headerlink" title="beforeCreate"></a>beforeCreate</h3><ul>
<li>在实例初始化之后，数据观测(data observer) 和 event/watcher 事件配置之前被调用。即：<strong>el 和 data 并未初始化</strong><br>此时$el、data 的值都为undefined</li>
</ul>
<h3 id="created"><a href="#created" class="headerlink" title="created"></a>created</h3><ul>
<li>实例已经创建完成之后被调用。在这一步，实例完成数据观测(data observer)，属性和方法的运算， watch/event 事件回调。挂载阶段还没开始，<code>$el</code> 属性目前不可见。<strong>即：完成了 data 数据的初始化</strong></li>
</ul>
<h3 id="beforeMount"><a href="#beforeMount" class="headerlink" title="beforeMount"></a>beforeMount</h3><ul>
<li>在挂载开始之前被调用：相关的 <code>render</code> 函数首次被调用。<strong>即：完成了 el 和 data 初始化，$el的值为“虚拟”的元素节点</strong></li>
</ul>
<h3 id="mounted"><a href="#mounted" class="headerlink" title="mounted"></a>mounted</h3><ul>
<li><code>el</code> 被新创建的 <code>vm.$el</code> 替换，并挂载到实例上去之后调用该钩子。如果 root 实例挂载了一个文档内元素，当 <code>mounted</code> 被调用时 <code>vm.$el</code> 也在文档内 。<strong>即：完成挂载</strong></li>
<li><strong>mount之后，mounted之前，“虚拟”的dom节点被真实的dom节点替换，并将其插入到dom树中，于是在触发**</strong>mounted时，可以获取到$el为真实的dom元素**</li>
</ul>
<h3 id="beforeUpdate"><a href="#beforeUpdate" class="headerlink" title="beforeUpdate"></a>beforeUpdate</h3><ul>
<li>数据更新时调用，发生在虚拟 DOM 重新渲染和打补丁之前。你可以在这个钩子中进一步地更改状态，这不会触发附加的重渲染过程。</li>
</ul>
<h3 id="updated"><a href="#updated" class="headerlink" title="updated"></a>updated</h3><ul>
<li><p>由于数据更改导致的虚拟 DOM 重新渲染和打补丁，在这之后会调用该钩子。当这个钩子被调用时，组件 DOM 已经更新，所以你现在可以执行依赖于 DOM 的操作。然而在大多数情况下，你应该避免在此期间更改状态。如果要相应状态改变，通常最好使用<a href="https://cn.vuejs.org/v2/api/#computed" target="_blank" rel="external">计算属性</a>或 <a href="https://cn.vuejs.org/v2/api/#watch" target="_blank" rel="external">watcher</a> 取而代之。</p>
<p>在我实际的使用过程中遇到了在updated中改变状态，结果导致了无限循环（把浏览器给卡死了，逃。。），很容易理解，因为在updated之后，状态update，update后又会触发updated，然后就GG了。</p>
</li>
</ul>
<h3 id="activated"><a href="#activated" class="headerlink" title="activated"></a>activated</h3><ul>
<li>keep-alive 组件激活时调用。</li>
</ul>
<h3 id="deactivated"><a href="#deactivated" class="headerlink" title="deactivated"></a>deactivated</h3><ul>
<li>keep-alive 组件停用时调用。</li>
</ul>
<h3 id="beforeDestroy"><a href="#beforeDestroy" class="headerlink" title="beforeDestroy"></a>beforeDestroy</h3><ul>
<li>实例销毁之前调用。在这一步，实例仍然完全可用</li>
</ul>
<h3 id="destroyed"><a href="#destroyed" class="headerlink" title="destroyed"></a>destroyed</h3><ul>
<li>Vue 实例销毁后调用。调用后，Vue 实例指示的所有东西都会解绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。<br>&nbsp;</li>
</ul>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-08-20</span><i class="fa fa-tag"></i><a class="tag" href="/tags/Vue/" title="Vue">Vue </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,http://stan1812.github.io/2017/08/20/vue2-0-e7-94-9f-e5-91-bd-e5-91-a8-e6-9c-9f-e4-bb-a5-e5-8f-8a-e7-94-9f-e5-91-bd-e5-91-a8-e6-9c-9f-e9-92-a9-e5-ad-90-e7-9a-84-e5-bc-82/,Libx,Vue2.0生命周期以及生命周期钩子,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/2017/08/25/e5-a4-a7-e4-b8-80-e4-b8-80-e5-b9-b4/" title="大一一年">Post Anterior</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/2017/08/13/vue-e5-85-a8-e5-ae-b6-e6-a1-b6-e4-b9-8bvuex/" title="VUe全家桶之VueX">Próximo post</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>