<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#7e868b">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="JS," />





  <link rel="alternate" href="/atom.xml" title="An Amazing World" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/imgs/favicon.ico?v=5.1.2" />






<meta name="description" content="之前真的是小瞧了JS的运算符，再看《JS高级程序设计》的时候，甚至都没有深入的了解JS的逻辑运算符，只是走马观花的边跳边看。。今天晚上闲着没事，不想写代码，就想看看一些小框架的源码学习学习。看到了大量的关于运算符骚操作之后，发现原来逻辑表达式还能这么玩，羞愧不已，于是重新搬出红宝书，又查了一些文档，对逻辑表达式来稍微深入探讨一下。因为涉及了很多类型转换，所以对类型转换也来总结一下。（虽然一个===">
<meta name="keywords" content="JS">
<meta property="og:type" content="article">
<meta property="og:title" content="JS运算符和类型转换">
<meta property="og:url" content="http://stan1812.github.io/2017/11/19/JSLogicalOperators/index.html">
<meta property="og:site_name" content="An Amazing World">
<meta property="og:description" content="之前真的是小瞧了JS的运算符，再看《JS高级程序设计》的时候，甚至都没有深入的了解JS的逻辑运算符，只是走马观花的边跳边看。。今天晚上闲着没事，不想写代码，就想看看一些小框架的源码学习学习。看到了大量的关于运算符骚操作之后，发现原来逻辑表达式还能这么玩，羞愧不已，于是重新搬出红宝书，又查了一些文档，对逻辑表达式来稍微深入探讨一下。因为涉及了很多类型转换，所以对类型转换也来总结一下。（虽然一个===">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-11-19T06:35:27.103Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JS运算符和类型转换">
<meta name="twitter:description" content="之前真的是小瞧了JS的运算符，再看《JS高级程序设计》的时候，甚至都没有深入的了解JS的逻辑运算符，只是走马观花的边跳边看。。今天晚上闲着没事，不想写代码，就想看看一些小框架的源码学习学习。看到了大量的关于运算符骚操作之后，发现原来逻辑表达式还能这么玩，羞愧不已，于是重新搬出红宝书，又查了一些文档，对逻辑表达式来稍微深入探讨一下。因为涉及了很多类型转换，所以对类型转换也来总结一下。（虽然一个===">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.2',
    sidebar: {"position":"left","display":"post","offset":20,"offset_float":20,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://stan1812.github.io/2017/11/19/JSLogicalOperators/"/>





  <title>JS运算符和类型转换 | An Amazing World</title>
  





  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?025f21eff557784535f6b192c5c1265a";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">An Amazing World</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">前端小学生的神奇世界</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about-me/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-commonweal">
          <a href="/404.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br />
            
            公益404
          </a>
        </li>
      

      
    </ul>
  

  
</nav>


 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://stan1812.github.io/2017/11/19/JSLogicalOperators/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Shady">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/../../imgs/album.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="An Amazing World">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JS运算符和类型转换</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-19T00:49:58+08:00">
                2017-11-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术/" itemprop="url" rel="index">
                    <span itemprop="name">技术</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,087
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  12
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>之前真的是小瞧了JS的运算符，再看《JS高级程序设计》的时候，甚至都没有深入的了解JS的逻辑运算符，只是走马观花的边跳边看。。今天晚上闲着没事，不想写代码，就想看看一些小框架的源码学习学习。看到了大量的关于运算符骚操作之后，发现原来逻辑表达式还能这么玩，羞愧不已，于是重新搬出红宝书，又查了一些文档，对逻辑表达式来稍微深入探讨一下。因为涉及了很多类型转换，所以对类型转换也来总结一下。（虽然一个===可以解决几乎所有问题。。但还是要了解一下的~）</p>
<hr>
<h2 id="逻辑表达式基本知识补充"><a href="#逻辑表达式基本知识补充" class="headerlink" title="逻辑表达式基本知识补充"></a>逻辑表达式基本知识补充</h2><ul>
<li><p>逻辑非 ！</p>
<p>逻辑非可以用于ECMAScript中任何值，无论用于任何值都会返回一个布尔值，也就是说，他会先操作数变为一个布尔值，之后对其取反。而同时使用！！则可以达到使用Boolean()的效果了</p>
<ul>
<li><p>如果一个操作数是一个对象，返回false;</p>
</li>
<li><p>如果一个操作数是一个空字符串，返回false;</p>
</li>
<li><p>如果一个操作数是一个非空字符串，返回false;</p>
</li>
<li><p>如果一个操作数是一个数值0，返回true;</p>
</li>
<li><p>如果一个操作数是任意的非零字符，返回false;</p>
</li>
<li><p>如果一个操作数是null，返回true;</p>
</li>
<li><p>如果一个操作数是NaN，返回true;</p>
</li>
<li><p>如果一个操作数是undefined，返回true;</p>
</li>
<li>能够转换为false的表达式有:<ul>
<li>null;</li>
<li>NaN;</li>
<li>0;</li>
<li>空字符串（””）;</li>
<li>undefined.</li>
</ul>
</li>
</ul>
<p>(其实这些东西可以说是很好理解了，，不过还是系统的总结一下)</p>
</li>
<li><p>逻辑与</p>
<p>对于不是布尔值的情况则：</p>
<ul>
<li><p>如果第一个操作数是对象，则返回第二个数</p>
</li>
<li><p>如果第二个操作数是对象，则只有在第一个操作数的求值结果为true的情况下才会返回该对象；</p>
</li>
<li><p>如果第两个操作数都是对象，则返回第二个数操作数</p>
</li>
<li><p>如果有一个操作数是null，则返回null</p>
</li>
<li><p>如果有一个操作数是NaN，则返回第NaN</p>
</li>
<li><p>如果第一个操作数是undefined，则返回undefined</p>
</li>
</ul>
<p>逻辑运算符操作对象遵循从左到右的顺序来判断，逻辑与操作符（&amp;&amp;）先判断第一个数，如果第一个数的逻辑判断是true，则还需判断第二个数，结果输出第二个操作数；同理，如果第一个数为false，则不用考虑第二个数了，直接输出第一个数的逻辑判断结果.</p>
</li>
<li><p>逻辑或</p>
</li>
</ul>
<p>对于不是布尔值的情况则：</p>
<ul>
<li><p>如果第一个操作数是对象，则返第一个操作数</p>
</li>
<li><p>如果第一个操作数的求值结果为false，则返回第二个操作数</p>
</li>
<li><p>如果两个操作数都是对象，则返回第一个操作数</p>
</li>
<li><p>如果两个操作数是null，则返回null</p>
</li>
<li><p>如果两个操作数是NaN，则返回NaN</p>
</li>
<li><p>如果两个操作数是undefined，则返回undefined </p>
</li>
</ul>
<p>逻辑或(||)的判断是如果第一个操作数的逻辑判断为true，则直接输出第一个操作数，不用再考虑第二个操作数；如果第一个操作数的逻辑判断为false，则还得去判断第二个操作数的逻辑。</p>
<p>尽管 &amp;&amp; 和 || 运算符能够使用非Boolean值的操作数, 但它们依然被看作是Boolean操作符，因为它们的返回值总是能够被转换为Boolean值。</p>
<h3 id="短路计算"><a href="#短路计算" class="headerlink" title="短路计算"></a>短路计算</h3><p>由于逻辑表达式的运算的顺序是从左到右,也可以用以下规则进行”短路”计算:</p>
<p>false &amp;&amp; (anything)  短路计算的结果为false.</p>
<p>true || (anything)  短路计算的结果为 true.</p>
<p>该规则确保这些计算的准确性. 注意如果上述表达式中的 anything 部分不能被计算的话,  两边都不会生效.还需要注意的是,上述表达式中的 anything 部分是任意的单个逻辑表达式(小括号中).</p>
<hr>
<h2 id="JS表达式中的类型转换"><a href="#JS表达式中的类型转换" class="headerlink" title="JS表达式中的类型转换"></a>JS表达式中的类型转换</h2><p>相信很多前端都会觉得==的设计可以说是很糟糕了，，<br>一直以来都在刻意避免使用== 只用===,就是因为其中的类型转换,但是并不理解其中的具体的原因</p>
<p>相等本来可以说是很简单的操作了,但是也是对于基本的字符串,数字,布尔值来说,一旦涉及到对象的比较,就复杂了,早期的es的相等和不等都会先进行类型转换.之后的解决方案是使用== and ===</p>
<p>先来看看红宝书是怎么具体的说的</p>
<h3 id="amp"><a href="#amp" class="headerlink" title="== != &amp; ===  !=="></a>== != &amp; ===  !==</h3><h4 id=""><a href="#" class="headerlink" title="== !="></a>== !=</h4><p>ECMAScript 中的相等操作符由两个等于号（==）表示，如果两个操作数相等，则返回 true。而不相等操作符由叹号后跟等于号（!=）表示，如果两个操作数不相等，则返回 true。这两个操作符都会<br>先转换操作数（通常称为强制转型），然后再比较它们的相等性。<br>在转换不同的数据类型时，相等和不相等操作符遵循下列基本规则：</p>
<ul>
<li>如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值——false 转换为 0，而true 转换为 1；</li>
<li>如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值；</li>
<li>如果一个操作数是对象，另一个操作数不是，则调用对象的 valueOf()方法，用得到的基本类<br>型值按照前面的规则进行比较；<br>这两个操作符在进行比较时则要遵循下列规则。</li>
<li>null 和 undefined 是相等的。</li>
<li>要比较相等性之前，不能将 null 和 undefined 转换成其他任何值。</li>
<li>如果有一个操作数是 NaN，则相等操作符返回 false，而不相等操作符返回 true。重要提示：<br>即使两个操作数都是 NaN，相等操作符也返回 false；因为按照规则，NaN 不等于 NaN。</li>
<li>如果两个操作数都是对象，则比较它们是不是同一个对象。如果两个操作数都指向同一个对象，<br>则相等操作符返回 true；否则，返回 false。</li>
</ul>
<h4 id="amp-1"><a href="#amp-1" class="headerlink" title="=== &amp; !=="></a>=== &amp; !==</h4><p>除了在比较之前不转换操作数之外，全等和不全等操作符与相等和不相等操作符没有什么区别。全等操作符由 3 个等于号（===）表示，它只在两个操作数未经转换就相等的情况下返回 true.</p>
<p>记住：null == undefined 会返回 true，因为它们是类似的值；但 null === undefined 会返回 false，因为它们是不同类型的值</p>
<hr>
<p>这里有一篇好文:<br>作者：林建入<br>链接：<a href="https://www.zhihu.com/question/20348948/answer/19601270" target="_blank" rel="external">https://www.zhihu.com/question/20348948/answer/19601270</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>
<h4 id="严格相等运算符"><a href="#严格相等运算符" class="headerlink" title="严格相等运算符"></a>严格相等运算符</h4><p>=== 被称为 Strict Equals Operator，假设有表达式 a === b，则它的实际运算过程如下</p>
<ol>
<li>计算出表达式 a 的结果，并存入 lref 变量</li>
<li>将 GetValue(lref) 的结果存入 lval 变量</li>
<li>计算出表达式 b 的结果，并存入 rref 变量</li>
<li>将 GetValue(rref) 的结果存入 rval 变量</li>
<li>执行 Strict Equality Comparison 算法判断 rval === lval 并将结果直接返回</li>
</ol>
<p>这里的 Strict Equality Comparison 算法很关键，假设要计算的是 x === y，则过程如下</p>
<ol>
<li>如果 Type(x) 和 Type(y) 不同，返回 false</li>
<li>如果 Type(x) 为 Number，则进入下面的判断逻辑<ol>
<li>如果 x 为 NaN，返回 false</li>
<li>如果 y 为 NaN，返回 false</li>
<li>如果 x 的数字值和 y 相等，返回 true</li>
<li>如果 x 是 +0 且 y 是 -0，返回 true</li>
<li>如果 x 是 -0 且 y 是 +0，返回 ture</li>
<li>返回 false</li>
</ol>
</li>
<li>如果 Type(x) 为 String，则当且仅当 x 与 y 的字符序列完全相同（长度相等，每个位置上的字符相同）时返回 true，否则返回 false</li>
<li>如果 Type(x) 为 Boolean，则若 x 与 y 同为 true 或同为 false 时返回 true，否则返回 false</li>
<li>如果 x 和 y 引用的是同一个对象，返回 true，否则返回 false</li>
</ol>
<h3 id="相等运算符"><a href="#相等运算符" class="headerlink" title="相等运算符"></a>相等运算符</h3><p>== 的实现好了，当你明白了 === 的实现之后，我们再来看看 == 的实现，比较一下他们有何不同？<br>== 被称为 Equals Operator （注意看没有 Strict 了），</p>
<p>假设有表达式 a == b，则它的实际运算过程如下</p>
<ol>
<li>计算出表达式 a 的结果，并存入 lref 变量</li>
<li>将 GetValue(lref) 的结果存入 lval 变量</li>
<li>计算出表达式 b 的结果，并存入 rref 变量</li>
<li>将 GetValue(rref) 的结果存入 rval 变量</li>
<li>执行 Abstract Equality Comparison 算法判断 rval == lval 并将结果直接返回</li>
</ol>
<p>注意，其中的前 4 个步骤是和 === 完全相同的。唯独 5 不同。对于 === 来说，调用的是 Strict Equality Comparison 算法，但是 == 则调用的是 Abstract Equality Comparison 算法。虽然仅一词之差，但是却有质的不同，我们下面就来看看到底它是怎么实现的</p>
<p>假设要计算的是 x == y，Abstract Equality Comparison 计算的过程如下（很冗长，但是每个步骤都很简单）</p>
<ol>
<li><p>如果 Type(x) 和 Type(y) 相同，则</p>
<ol>
<li>如果 Type(x) 为 Undefined，返回 true</li>
<li>如果 Type(x) 为 Null，返回 true</li>
<li><p>如果 Type(x) 为 Number，则</p>
<ol>
<li>如果 x 是 NaN，返回 false</li>
<li>如果 y 是 NaN，返回 false</li>
<li>如果 x 的数值与 y 相同，返回 true</li>
<li>如果 x 是 +0 且 y 是 -0，返回 true</li>
<li>如果 x 是 -0 且 y 是 +0，返回 true</li>
<li>返回 false</li>
</ol>
</li>
<li><p>如果 Type(x) 为 String，则当且仅当 x 与 y 的字符序列完全相同（长度相等，每个位置上的字符相同）时返回 true，否则返回 false</p>
</li>
<li>如果 Type(x) 为 Boolean，则若 x 与 y 同为 true 或同为 false 时返回 true，否则返回 false</li>
<li>如果 x 和 y 引用的是同一个对象，返回 true，否则返回 false</li>
</ol>
</li>
<li>如果 x 是 null 且 y 是 undefined，返回 true</li>
<li>如果 x 是 undefined 且 y 是 null，返回 ture</li>
<li>如果 Type(x) 为 Number 且 Type(y) 为 String，以 x == ToNumber(y) 的比较结果作为返回</li>
<li>如果 Type(x) 为 String 且 Type(y) 为 Number，以 ToNumber(x) == y 的比较结果作为返回值</li>
<li>如果 Type(x) 为 Boolean，以 ToNumber(x) == y 的比较结果作为返回值</li>
<li>如果 Type(y) 为 Boolean，以 x == ToNumber(y) 的比较结果作为返回值</li>
<li>如果 Type(x) 为 String 或 Number 且 Type(y) 为 Object，以 x == ToPrimitive(y) 的比较结果作为返回值</li>
<li>如果 Type(x) 为 Object 且 Type(y) 为 String 或 Number，以 ToPrimitive(x) == y 的比较结果作为返回值10. 返回 false</li>
</ol>
<p>从上面的算法流程可以看出，a ===  b 是最简单的。如果 a 和 b 的类型不同，那么一定会返回 false。而 a == b 则要灵活得多。JavaScript 会尝试调整 a 和 b 的类型，例如若 a 为字符串 b 为数字，则将字符串先转化为数字再与 b 比较，等等。这在很多时候简化了程序员的代码量。</p>
<p>还有一篇:<a href="https://segmentfault.com/a/1190000006012804" target="_blank" rel="external">https://segmentfault.com/a/1190000006012804</a></p>
<h2 id="JS逻辑运算符的一些骚操作"><a href="#JS逻辑运算符的一些骚操作" class="headerlink" title="JS逻辑运算符的一些骚操作"></a>JS逻辑运算符的一些骚操作</h2><p>其实也不骚hhh，很实用的操作<br><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">//判断类型</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> obj == <span class="literal">null</span> ? <span class="built_in">String</span>(obj) :</div><div class="line">    [<span class="built_in">String</span>.prototype.toString.call(obj)] || <span class="string">"object"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">// 判断是否是 window对象（注意，w为小写）指当前的浏览器窗口，window对象的window属性指向自身。</span></div><div class="line"><span class="comment">// 即 window.window === window</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isWindow</span>(<span class="params">obj</span>)</span></div><div class="line"><span class="function"></span>&#123; <span class="keyword">return</span> obj != <span class="literal">null</span> &amp;&amp; obj == obj.window &#125;</div><div class="line"> <span class="comment">// 判断是否是数组或者对象数组</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">likeArray</span>(<span class="params">obj</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> length = !!obj &amp;&amp; <span class="string">'length'</span> <span class="keyword">in</span> obj &amp;&amp; obj.length,</div><div class="line">    type = $.type(obj)</div><div class="line"></div><div class="line">  <span class="keyword">return</span> <span class="string">'function'</span> != type &amp;&amp; !isWindow(obj) &amp;&amp; (</div><div class="line">    <span class="string">'array'</span> == type || length === <span class="number">0</span> ||</div><div class="line">      (<span class="keyword">typeof</span> length == <span class="string">'number'</span> &amp;&amp; length &gt; <span class="number">0</span> &amp;&amp; (length - <span class="number">1</span>) <span class="keyword">in</span> obj)</div><div class="line">  )</div><div class="line">&#125;</div><div class="line"><span class="comment">//有没有要看晕了。。我也要晕了，，实际工程里要这样写的话，会被打死吧。。</span></div></pre></td></tr></table></figure>
<p>还有一个非常优雅的<br><figure class="highlight javascript"><table><tr><td class="code"><pre><div class="line"><span class="comment">//形如:</span></div><div class="line"><span class="comment">//如果X则_x,如果y则_y,如果z则_z等等等</span></div><div class="line"><span class="comment">//比如一岁给1个苹果,且增长无规律</span></div><div class="line"><span class="comment">//将swictch或者链式ifelse改写</span></div><div class="line"><span class="keyword">var</span> res = (age==<span class="number">5</span> &amp;&amp; <span class="number">1</span>) || (age==<span class="number">10</span> &amp;&amp; <span class="number">2</span>) || (age==<span class="number">12</span> &amp;&amp; <span class="number">3</span>) || (age==<span class="number">15</span> &amp;&amp; <span class="number">4</span>) || <span class="number">0</span>;</div></pre></td></tr></table></figure></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/JS/" rel="tag"># JS</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/11/06/JSOO/" rel="next" title="JS中的各种继承">
                <i class="fa fa-chevron-left"></i> JS中的各种继承
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/12/15/why-am-i-so-laji/" rel="prev" title="我为何如此垃圾">
                我为何如此垃圾 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/../../imgs/album.jpg"
               alt="Shady" />
          <p class="site-author-name" itemprop="name">Shady</p>
           
              <p class="site-description motion-element" itemprop="description">For fun ，For love</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
            
              <a href="/archives/ || archive">
            
                <span class="site-state-item-count">46</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">18</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/stan1812" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                    
                      GitHub
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="mailto:2314980309@qq.com" target="_blank" title="E-Mail">
                  
                    <i class="fa fa-fw fa-envelope"></i>
                  
                    
                      E-Mail
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://twitter.com/2314980309_stan" target="_blank" title="Twitter">
                  
                    <i class="fa fa-fw fa-twitter"></i>
                  
                    
                      Twitter
                    
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://instagram.com/be_drammer" target="_blank" title="Instagram">
                  
                    <i class="fa fa-fw fa-instagram"></i>
                  
                    
                      Instagram
                    
                </a>
              </span>
            
          
        </div>

        
        

        
        

        <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=86 height=86 src="http://music.163.com/outchain/player?type=2&id=29734857&auto=0&height=66"></iframe>
        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#逻辑表达式基本知识补充"><span class="nav-number">1.</span> <span class="nav-text">逻辑表达式基本知识补充</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#短路计算"><span class="nav-number">1.1.</span> <span class="nav-text">短路计算</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS表达式中的类型转换"><span class="nav-number">2.</span> <span class="nav-text">JS表达式中的类型转换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#amp"><span class="nav-number">2.1.</span> <span class="nav-text">== != & ===  !==</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#"><span class="nav-number">2.1.1.</span> <span class="nav-text">== !=</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#amp-1"><span class="nav-number">2.1.2.</span> <span class="nav-text">=== & !==</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#严格相等运算符"><span class="nav-number">2.1.3.</span> <span class="nav-text">严格相等运算符</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#相等运算符"><span class="nav-number">2.2.</span> <span class="nav-text">相等运算符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#JS逻辑运算符的一些骚操作"><span class="nav-number">3.</span> <span class="nav-text">JS逻辑运算符的一些骚操作</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>

   
  </aside>
 


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2017 &mdash; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Shady</span>

  
</div>



        







        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.2"></script>



  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>


  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  








  





  

  

  

  

  

  

</body>
</html>
